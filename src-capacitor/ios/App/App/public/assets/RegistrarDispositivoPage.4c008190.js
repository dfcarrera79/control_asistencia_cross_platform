import{U as g,r as t,X as f,Q as a,a as m,Y as _,_ as y,a5 as h,a4 as r,a9 as w,H as N,at as x,a1 as D,a2 as S,ao as B}from"./index.47a28144.js";import{u as j,a as k}from"./use-quasar.3a6fa932.js";import{D as I}from"./index.c22a573d.js";import"./axios.66614422.js";const q={class:"row text-uppercase text-grey-8 justify-center items-center content-center q-pa-md text-center",style:{"font-family":"'Bebas Neue'"}},C={class:"q-pt-md"},E={class:"row justify-center"},P=g({__name:"RegistrarDispositivoPage",setup(Q){const o=t(""),i=j(),s=t(!1),{get:n,post:c}=k(),l=f(),u=t(),d=async()=>(await I.getId()).identifier;a(async()=>{o.value=await d();const e=await n("/validar_dispositivo",{id:o.value});e.error==="N"?s.value=!0:(console.error(e.mensaje),s.value=!1)});const p=async()=>{try{const e=await c("/registrar_dispositivo",{},JSON.parse(JSON.stringify({usuario_codigo:l.codigo,id_dispositivo:o.value})));e.error==="N"&&(s.value=!0),i.notify({color:e.error==="N"?"green-4":"red-5",textColor:"white",icon:e.error==="N"?"cloud_done":"warning",message:e.mensaje})}catch(e){console.error("Error registrando el dispositivo:",e)}},v=m(()=>s.value?"El dispositivo ya se encuentra registrado":"Registrar dispositivo");return a(()=>{u.value=_.getItem("session")}),(e,R)=>(y(),h(B,null,[r("h4",q,[r("div",C,w(v.value),1)]),r("div",E,[N(D(S,{color:"primary",rounded:"",icon:"phone_android",label:"Registrar dispositivo",size:"lg",onClick:p},null,512),[[x,!s.value]])])],64))}});export{P as default};
